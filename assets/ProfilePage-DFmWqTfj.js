import{X as R,j as r,g as w,a as B,r as u,u as E,_ as F,b as d,s as y,c as U,d as M,H as N,B as z,C as T,P as L,T as m,Y as q}from"./index-BC3UxqoT.js";import{u as H,C as W,A as P}from"./Container-D5zBg6sZ.js";const O=R(r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function X(e){return w("MuiAvatar",e)}B("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Y=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],G=e=>{const{classes:t,variant:a,colorDefault:s}=e;return M({root:["root",a,s&&"colorDefault"],img:["img"],fallback:["fallback"]},X,t)},J=y("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],a.colorDefault&&t.colorDefault]}})(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:d({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:d({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]})),K=y("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Q=y(O,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function V({crossOrigin:e,referrerPolicy:t,src:a,srcSet:s}){const[o,l]=u.useState(!1);return u.useEffect(()=>{if(!a&&!s)return;l(!1);let n=!0;const i=new Image;return i.onload=()=>{n&&l("loaded")},i.onerror=()=>{n&&l("error")},i.crossOrigin=e,i.referrerPolicy=t,i.src=a,s&&(i.srcset=s),()=>{n=!1}},[e,t,a,s]),o}const Z=u.forwardRef(function(t,a){const s=E({props:t,name:"MuiAvatar"}),{alt:o,children:l,className:n,component:i="div",slots:c={},slotProps:A={},imgProps:h,sizes:C,src:g,srcSet:v,variant:S="circular"}=s,k=F(s,Y);let p=null;const _=V(d({},h,{src:g,srcSet:v})),b=g||v,j=b&&_!=="error",f=d({},s,{colorDefault:!j,component:i,variant:S}),x=G(f),[D,I]=H("img",{className:x.img,elementType:K,externalForwardedProps:{slots:c,slotProps:{img:d({},h,A.img)}},additionalProps:{alt:o,src:g,srcSet:v,sizes:C},ownerState:f});return j?p=r.jsx(D,d({},I)):l||l===0?p=l:b&&o?p=o[0]:p=r.jsx(Q,{ownerState:f,className:x.fallback}),r.jsx(J,d({as:i,ownerState:f,className:U(x.root,n),ref:a},k,{children:p}))}),te=()=>{const{employeeId:e}=N(),[t,a]=u.useState(null),[s,o]=u.useState(!0),[l,n]=u.useState(null);return u.useEffect(()=>{(async()=>{if(!e){n("Employee ID not available."),o(!1);return}o(!0),n(null);try{const c=await q();c.status==="success"&&c.data?a(c.data):n(c.message||"Failed to fetch user profile.")}catch(c){n(c instanceof Error?c.message:"An unexpected error occurred.")}finally{o(!1)}})()},[e]),r.jsx(W,{maxWidth:"sm",sx:{mt:4},children:s?r.jsx(z,{sx:{display:"flex",justifyContent:"center",mt:4},children:r.jsx(T,{})}):l?r.jsx(P,{severity:"error",children:l}):t?r.jsxs(L,{elevation:3,sx:{padding:{xs:2,sm:3,md:4},display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx(Z,{alt:t.employee_name,src:t.image||void 0,sx:{width:100,height:100,mb:2,fontSize:"3rem"},children:!t.image&&t.employee_name?t.employee_name.charAt(0).toUpperCase():""}),r.jsx(m,{variant:"h5",component:"h1",gutterBottom:!0,children:t.employee_name}),r.jsx(m,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:t.designation}),r.jsx(m,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:t.department}),r.jsxs(m,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:["Email: ",t.company_email]}),r.jsxs(m,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:["Telepon: ",t.cell_number]})]}):r.jsx(P,{severity:"info",children:"No user profile data available."})})};export{te as default};
