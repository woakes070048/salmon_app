import{W as U,j as r,g as B,a as F,r as d,u as D,_ as M,b as c,s as y,c as N,d as z,G as W,B as h,C as L,P as T,T as x}from"./index-CrghFRdq.js";import{u as _,A as q,C as G}from"./Container-B91d9uGY.js";import{B as P}from"./Button-DAbXaOUf.js";const H=U(r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function O(e){return B("MuiAvatar",e)}F("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const J=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],K=e=>{const{classes:a,variant:o,colorDefault:s}=e;return z({root:["root",o,s&&"colorDefault"],img:["img"],fallback:["fallback"]},O,a)},Q=y("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,a[o.variant],o.colorDefault&&a.colorDefault]}})(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:c({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:c({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]})),V=y("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,a)=>a.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),X=y(H,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,a)=>a.fallback})({width:"75%",height:"75%"});function Y({crossOrigin:e,referrerPolicy:a,src:o,srcSet:s}){const[l,t]=d.useState(!1);return d.useEffect(()=>{if(!o&&!s)return;t(!1);let i=!0;const n=new Image;return n.onload=()=>{i&&t("loaded")},n.onerror=()=>{i&&t("error")},n.crossOrigin=e,n.referrerPolicy=a,n.src=o,s&&(n.srcset=s),()=>{i=!1}},[e,a,o,s]),l}const Z=d.forwardRef(function(a,o){const s=D({props:a,name:"MuiAvatar"}),{alt:l,children:t,className:i,component:n="div",slots:u={},slotProps:A={},imgProps:j,sizes:S,src:m,srcSet:g,variant:I="circular"}=s,k=M(s,J);let p=null;const R=Y(c({},j,{src:m,srcSet:g})),b=m||g,C=b&&R!=="error",f=c({},s,{colorDefault:!C,component:n,variant:I}),v=K(f),[w,E]=_("img",{className:v.img,elementType:V,externalForwardedProps:{slots:u,slotProps:{img:c({},j,A.img)}},additionalProps:{alt:l,src:m,srcSet:g,sizes:S},ownerState:f});return C?p=r.jsx(w,c({},E)):t||t===0?p=t:b&&l?p=l[0]:p=r.jsx(X,{ownerState:f,className:v.fallback}),r.jsx(Q,c({as:n,ownerState:f,className:N(v.root,i),ref:o},k,{children:p}))}),re=()=>{const{employeeId:e}=W(),[a,o]=d.useState(!0),[s,l]=d.useState(null),[t,i]=d.useState(null);return d.useEffect(()=>{(async()=>{if(!e){l("Employee ID not available."),o(!1);return}o(!0),l(null);try{const u=localStorage.getItem("userEmail")||"user@example.com";i({name:e,email:u,role:"Sales Person"})}catch(u){l(u.message||"Failed to fetch user details.")}finally{o(!1)}})()},[e]),a?r.jsx(h,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(L,{})}):s?r.jsx(h,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(q,{severity:"error",children:s})}):r.jsx(G,{maxWidth:"sm",sx:{mt:4},children:r.jsxs(T,{elevation:3,sx:{padding:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx(Z,{sx:{width:100,height:100,mb:2},children:t!=null&&t.name?t.name.charAt(0).toUpperCase():""}),r.jsx(x,{variant:"h5",component:"h1",gutterBottom:!0,children:t==null?void 0:t.name}),r.jsxs(x,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:["Email: ",t==null?void 0:t.email]}),r.jsxs(x,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:["Role: ",t==null?void 0:t.role]}),r.jsxs(h,{sx:{mt:3,width:"100%",display:"flex",flexDirection:"column",gap:2},children:[r.jsx(P,{variant:"outlined",fullWidth:!0,children:"Change Password (Coming Soon)"}),r.jsx(P,{variant:"outlined",fullWidth:!0,children:"Update Contact Info (Coming Soon)"})]})]})})};export{re as default};
