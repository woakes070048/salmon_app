import{d as M,j as r,g as T,a as N,r as u,u as z,t as x,s as b,c as L,b as W,w as q,e as H,B as v,C as O,P as G,T as y}from"./index-BStpc4DZ.js";import{A as J}from"./Alert-NFvkCvVw.js";import{C as K}from"./Container-XVaRKa_4.js";import{B as S}from"./Button-B5v1ba7m.js";const Q=M(r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function V(e){return T("MuiAvatar",e)}N("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const X=e=>{const{classes:a,variant:o,colorDefault:s}=e;return W({root:["root",o,s&&"colorDefault"],img:["img"],fallback:["fallback"]},V,a)},Y=b("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,a[o.variant],o.colorDefault&&a.colorDefault]}})(q(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(e.vars||e).palette.background.default,...e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:{backgroundColor:e.palette.grey[400],...e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})}}}]}))),Z=b("img",{name:"MuiAvatar",slot:"Img"})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),_=b(Q,{name:"MuiAvatar",slot:"Fallback"})({width:"75%",height:"75%"});function $({crossOrigin:e,referrerPolicy:a,src:o,srcSet:s}){const[l,t]=u.useState(!1);return u.useEffect(()=>{if(!o&&!s)return;t(!1);let i=!0;const n=new Image;return n.onload=()=>{i&&t("loaded")},n.onerror=()=>{i&&t("error")},n.crossOrigin=e,n.referrerPolicy=a,n.src=o,s&&(n.srcset=s),()=>{i=!1}},[e,a,o,s]),l}const ee=u.forwardRef(function(a,o){const s=z({props:a,name:"MuiAvatar"}),{alt:l,children:t,className:i,component:n="div",slots:c={},slotProps:m={},imgProps:j,sizes:w,src:p,srcSet:g,variant:A="circular",...I}=s;let f=null;const d={...s,component:n,variant:A},k=$({...j,...typeof m.img=="function"?m.img(d):m.img,src:p,srcSet:g}),C=p||g,P=C&&k!=="error";d.colorDefault=!P,delete d.ownerState;const h=X(d),[F,R]=x("root",{ref:o,className:L(h.root,i),elementType:Y,externalForwardedProps:{slots:c,slotProps:m,component:n,...I},ownerState:d}),[E,U]=x("img",{className:h.img,elementType:Z,externalForwardedProps:{slots:c,slotProps:{img:{...j,...m.img}}},additionalProps:{alt:l,src:p,srcSet:g,sizes:w},ownerState:d}),[B,D]=x("fallback",{className:h.fallback,elementType:_,externalForwardedProps:{slots:c,slotProps:m},shouldForwardComponentProp:!0,ownerState:d});return P?f=r.jsx(E,{...U}):t||t===0?f=t:C&&l?f=l[0]:f=r.jsx(B,{...D}),r.jsx(F,{...R,children:f})}),se=()=>{const{employeeId:e}=H(),[a,o]=u.useState(!0),[s,l]=u.useState(null),[t,i]=u.useState(null);return u.useEffect(()=>{(async()=>{if(!e){l("Employee ID not available."),o(!1);return}o(!0),l(null);try{const c=localStorage.getItem("userEmail")||"user@example.com";i({name:e,email:c,role:"Sales Person"})}catch(c){l(c.message||"Failed to fetch user details.")}finally{o(!1)}})()},[e]),a?r.jsx(v,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(O,{})}):s?r.jsx(v,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(J,{severity:"error",children:s})}):r.jsx(K,{maxWidth:"sm",sx:{mt:4},children:r.jsxs(G,{elevation:3,sx:{padding:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx(ee,{sx:{width:100,height:100,mb:2},children:t!=null&&t.name?t.name.charAt(0).toUpperCase():""}),r.jsx(y,{variant:"h5",component:"h1",gutterBottom:!0,children:t==null?void 0:t.name}),r.jsxs(y,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:["Email: ",t==null?void 0:t.email]}),r.jsxs(y,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:["Role: ",t==null?void 0:t.role]}),r.jsxs(v,{sx:{mt:3,width:"100%",display:"flex",flexDirection:"column",gap:2},children:[r.jsx(S,{variant:"outlined",fullWidth:!0,children:"Change Password (Coming Soon)"}),r.jsx(S,{variant:"outlined",fullWidth:!0,children:"Update Contact Info (Coming Soon)"})]})]})})};export{se as default};
