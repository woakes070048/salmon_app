import{V as w,j as r,g as _,a as F,r as u,u as M,_ as N,b as i,s as x,c as z,d as U,G as E,P as T,T as v}from"./index-BjvWCnAC.js";import{u as B,C as D}from"./Container-f55930So.js";const L=w(r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function q(e){return _("MuiAvatar",e)}F("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const W=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],G=e=>{const{classes:t,variant:o,colorDefault:a}=e;return U({root:["root",o,a&&"colorDefault"],img:["img"],fallback:["fallback"]},q,t)},H=x("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[t.root,t[o.variant],o.colorDefault&&t.colorDefault]}})(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:i({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:i({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]})),O=x("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),V=x(L,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});function J({crossOrigin:e,referrerPolicy:t,src:o,srcSet:a}){const[l,n]=u.useState(!1);return u.useEffect(()=>{if(!o&&!a)return;n(!1);let c=!0;const s=new Image;return s.onload=()=>{c&&n("loaded")},s.onerror=()=>{c&&n("error")},s.crossOrigin=e,s.referrerPolicy=t,s.src=o,a&&(s.srcset=a),()=>{c=!1}},[e,t,o,a]),l}const K=u.forwardRef(function(t,o){const a=M({props:t,name:"MuiAvatar"}),{alt:l,children:n,className:c,component:s="div",slots:P={},slotProps:A={},imgProps:h,sizes:j,src:m,srcSet:f,variant:I="circular"}=a,S=N(a,W);let d=null;const k=J(i({},h,{src:m,srcSet:f})),y=m||f,b=y&&k!=="error",p=i({},a,{colorDefault:!b,component:s,variant:I}),g=G(p),[C,R]=B("img",{className:g.img,elementType:O,externalForwardedProps:{slots:P,slotProps:{img:i({},h,A.img)}},additionalProps:{alt:l,src:m,srcSet:f,sizes:j},ownerState:p});return b?d=r.jsx(C,i({},R)):n||n===0?d=n:y&&l?d=l[0]:d=r.jsx(V,{ownerState:p,className:g.fallback}),r.jsx(H,i({as:s,ownerState:p,className:z(g.root,c),ref:o},S,{children:d}))}),Y=()=>{const{employeeId:e}=E(),[t,o]=u.useState(null);return u.useEffect(()=>{const a=sessionStorage.getItem("frappe_full_name"),l=sessionStorage.getItem("frappe_user_id");o({employeeId:e,name:a,email:l,initial:a?a.charAt(0).toUpperCase():e?e.charAt(0):"?"})},[e]),r.jsx(D,{maxWidth:"sm",sx:{mt:4},children:r.jsxs(T,{elevation:3,sx:{padding:{xs:2,sm:3,md:4},display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx(K,{sx:{width:100,height:100,mb:2,fontSize:"3rem"},children:t==null?void 0:t.initial}),r.jsx(v,{variant:"h6",color:"text.secondary",children:t==null?void 0:t.employeeId}),r.jsx(v,{variant:"h5",component:"h1",gutterBottom:!0,children:t==null?void 0:t.name}),r.jsx(v,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:t==null?void 0:t.email})]})})};export{Y as default};
