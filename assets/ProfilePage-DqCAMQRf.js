import{V as U,j as r,g as B,a as F,r as d,u as D,_ as M,b as c,s as y,c as N,d as z,G as L,B as h,C as T,P as W,T as x}from"./index-Cy-fES0w.js";import{u as _,A as q,C as G}from"./Container-D1CBMBBI.js";import{B as P}from"./Button-BsvWVcSu.js";const H=U(r.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function O(e){return B("MuiAvatar",e)}F("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const V=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],J=e=>{const{classes:o,variant:a,colorDefault:s}=e;return z({root:["root",a,s&&"colorDefault"],img:["img"],fallback:["fallback"]},O,o)},K=y("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:a}=e;return[o.root,o[a.variant],a.colorDefault&&o.colorDefault]}})(({theme:e})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(e.vars||e).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:c({color:(e.vars||e).palette.background.default},e.vars?{backgroundColor:e.vars.palette.Avatar.defaultBg}:c({backgroundColor:e.palette.grey[400]},e.applyStyles("dark",{backgroundColor:e.palette.grey[600]})))}]})),Q=y("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,o)=>o.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),X=y(H,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,o)=>o.fallback})({width:"75%",height:"75%"});function Y({crossOrigin:e,referrerPolicy:o,src:a,srcSet:s}){const[l,t]=d.useState(!1);return d.useEffect(()=>{if(!a&&!s)return;t(!1);let i=!0;const n=new Image;return n.onload=()=>{i&&t("loaded")},n.onerror=()=>{i&&t("error")},n.crossOrigin=e,n.referrerPolicy=o,n.src=a,s&&(n.srcset=s),()=>{i=!1}},[e,o,a,s]),l}const Z=d.forwardRef(function(o,a){const s=D({props:o,name:"MuiAvatar"}),{alt:l,children:t,className:i,component:n="div",slots:u={},slotProps:A={},imgProps:j,sizes:S,src:m,srcSet:g,variant:I="circular"}=s,k=M(s,V);let f=null;const w=Y(c({},j,{src:m,srcSet:g})),b=m||g,C=b&&w!=="error",p=c({},s,{colorDefault:!C,component:n,variant:I}),v=J(p),[R,E]=_("img",{className:v.img,elementType:Q,externalForwardedProps:{slots:u,slotProps:{img:c({},j,A.img)}},additionalProps:{alt:l,src:m,srcSet:g,sizes:S},ownerState:p});return C?f=r.jsx(R,c({},E)):t||t===0?f=t:b&&l?f=l[0]:f=r.jsx(X,{ownerState:p,className:v.fallback}),r.jsx(K,c({as:n,ownerState:p,className:N(v.root,i),ref:a},k,{children:f}))}),re=()=>{const{employeeId:e}=L(),[o,a]=d.useState(!0),[s,l]=d.useState(null),[t,i]=d.useState(null);return d.useEffect(()=>{(async()=>{if(!e){l("Employee ID not available."),a(!1);return}a(!0),l(null);try{const u=localStorage.getItem("userEmail")||"user@example.com";i({name:e,email:u,role:"Sales Person"})}catch(u){u instanceof Error?l(u.message||"Failed to fetch user details."):l("An unknown error occurred.")}finally{a(!1)}})()},[e]),o?r.jsx(h,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(T,{})}):s?r.jsx(h,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(q,{severity:"error",children:s})}):r.jsx(G,{maxWidth:"sm",sx:{mt:4},children:r.jsxs(W,{elevation:3,sx:{padding:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[r.jsx(Z,{sx:{width:100,height:100,mb:2},children:t!=null&&t.name?t.name.charAt(0).toUpperCase():""}),r.jsx(x,{variant:"h5",component:"h1",gutterBottom:!0,children:t==null?void 0:t.name}),r.jsxs(x,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:["Email: ",t==null?void 0:t.email]}),r.jsxs(x,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:["Role: ",t==null?void 0:t.role]}),r.jsxs(h,{sx:{mt:3,width:"100%",display:"flex",flexDirection:"column",gap:2},children:[r.jsx(P,{variant:"outlined",fullWidth:!0,children:"Change Password (Coming Soon)"}),r.jsx(P,{variant:"outlined",fullWidth:!0,children:"Update Contact Info (Coming Soon)"})]})]})})};export{re as default};
